<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Fábulas Emocionales - Descubre fábulas de Esopo y cuentos inspiradores según tu estado emocional. Una experiencia terapéutica y reflexiva.">
    <meta name="keywords" content="fábulas, emociones, Esopo, bienestar, terapia, reflexión, cuentos">
    <meta name="author" content="Marco Vinicio">
    <meta name="theme-color" content="#70a36f">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Fábulas Emocionales - Cuentos que sanan el alma">
    <meta property="og:description" content="Descubre fábulas personalizadas según tu estado emocional. Una experiencia interactiva de bienestar.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📚</text></svg>">
    <title>Fábulas Emocionales - Cuentos que sanan el alma</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>📚</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
    <div class="container">
        <!-- Enlace de navegación por teclado -->
        <a href="#main-content" class="skip-link">Saltar al contenido principal</a>
        
        <header>
            <h1 class="animate-on-scroll">
                <span class="icon-text">📚</span>
                Fábulas Emocionales
            </h1>
            <p class="subtitle animate-on-scroll">Descubre la fábula perfecta para tu estado emocional</p>
        </header>

        <main id="main-content" role="main">
            <section class="emotion-input animate-on-scroll" aria-labelledby="emotion-section">
                <h2 id="emotion-section" class="sr-only">Análisis de Emociones</h2>
                <label for="emotion-text">
                    <span class="label-icon">💭</span>
                    ¿Cómo te sientes hoy?
                </label>
                <div class="input-wrapper">
                    <textarea 
                        id="emotion-text" 
                        placeholder="Describe tu estado emocional, lo que sientes, o simplemente comparte lo que tienes en mente..."
                        rows="3"
                        aria-describedby="emotion-help"
                        maxlength="500">
                    </textarea>
                    <div class="char-counter">
                        <span id="char-count">0</span>/500
                    </div>
                </div>
                <p id="emotion-help" class="help-text">
                    Expresa libremente tus emociones. Nuestro sistema analizará tu texto y te sugerirá la fábula más apropiada.
                </p>
                <div class="buttons">
                    <button id="analizar-btn" type="button" class="primary-btn" aria-describedby="analyze-help">
                        <span class="btn-icon">🔍</span>
                        <span class="btn-text">Encuentra mi fábula</span>
                    </button>
                </div>
                <p id="analyze-help" class="help-text small">
                    También puedes usar las opciones rápidas de abajo
                </p>
            </section>

            <section class="quick-options animate-on-scroll" aria-labelledby="quick-section">
                <h2 id="quick-section">Opciones Rápidas</h2>
                <p class="section-subtitle">¿Prefieres una selección directa? Elige tu estado emocional:</p>
                <div class="buttons stagger-animation">
                    <button class="emotion-btn stagger-child" data-emotion="feliz" type="button">
                        <span class="btn-icon">😊</span>
                        <span class="btn-text">Feliz</span>
                    </button>
                    <button class="emotion-btn stagger-child" data-emotion="triste" type="button">
                        <span class="btn-icon">😢</span>
                        <span class="btn-text">Triste</span>
                    </button>
                    <button class="emotion-btn stagger-child" data-emotion="preocupado" type="button">
                        <span class="btn-icon">😰</span>
                        <span class="btn-text">Preocupado</span>
                    </button>
                    <button class="emotion-btn stagger-child" data-emotion="confundido" type="button">
                        <span class="btn-icon">😕</span>
                        <span class="btn-text">Confundido</span>
                    </button>
                    <button class="emotion-btn stagger-child" data-emotion="motivado" type="button">
                        <span class="btn-icon">💪</span>
                        <span class="btn-text">Motivado</span>
                    </button>
                    <button class="emotion-btn stagger-child" data-emotion="reflexivo" type="button">
                        <span class="btn-icon">🤔</span>
                        <span class="btn-text">Reflexivo</span>
                    </button>
                </div>
            </section>

            <section id="respuesta" class="response-section" aria-live="polite" aria-label="Resultado del análisis emocional">
                <!-- Aquí se mostrará la fábula recomendada -->
            </section>
        </main>

        <footer>
            <p>
                Creado con <span class="heart" aria-label="amor">❤️</span> para tu bienestar emocional por 
                <strong>Marco Vinicio</strong>
            </p>
            <p class="footer-note">
                Las fábulas son herramientas de reflexión. Siempre busca ayuda profesional si necesitas apoyo emocional.
            </p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="js/animations.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Inicializar sistema de animaciones
        document.addEventListener('DOMContentLoaded', () => {
            window.animationSystem = new AnimationSystem();
            
            // Agregar efectos de ripple a botones
            document.addEventListener('click', (e) => {
                if (e.target.matches('button:not(.no-ripple)')) {
                    window.animationSystem.rippleEffect(e.target, e);
                }
            });
            
            // Contador de caracteres
            const textArea = document.getElementById('emotion-text');
            const charCount = document.getElementById('char-count');
            
            if (textArea && charCount) {
                textArea.addEventListener('input', () => {
                    const count = textArea.value.length;
                    charCount.textContent = count;
                    
                    // Cambiar color según proximidad al límite
                    if (count > 450) {
                        charCount.style.color = 'var(--color-accent)';
                    } else if (count > 400) {
                        charCount.style.color = 'var(--color-secondary)';
                    } else {
                        charCount.style.color = 'var(--color-text-light)';
                    }
                });
            }
        });
    </script>
</body>
</html>
